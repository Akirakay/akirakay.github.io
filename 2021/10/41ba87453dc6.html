<!DOCTYPE html>
<html lang=cn>
<head>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5" />
    <meta name="description" content="设计模式 创建型 工厂方法模式 意图 定义一个创建产品对象的工厂接口，将实际创建工作推迟到子类中 解决方案 核心类变成了一个抽象工厂角色，仅负责给出具体工厂子类必须实现的接口，具体实现细节由子类决定。 UML类图  Code Demo 抽象工厂（ExportFactory）角色：担任这个角色的是工厂方法模式的核心，任何在模式中创建对象的工厂类必须实现这个接口。在实际的系统中，这个角色也常常使用抽象">
<meta property="og:type" content="article">
<meta property="og:title" content="设计模式">
<meta property="og:url" content="http://example.com/2021/10/41ba87453dc6.html">
<meta property="og:site_name" content="Ak1raKay&#39;s Blog">
<meta property="og:description" content="设计模式 创建型 工厂方法模式 意图 定义一个创建产品对象的工厂接口，将实际创建工作推迟到子类中 解决方案 核心类变成了一个抽象工厂角色，仅负责给出具体工厂子类必须实现的接口，具体实现细节由子类决定。 UML类图  Code Demo 抽象工厂（ExportFactory）角色：担任这个角色的是工厂方法模式的核心，任何在模式中创建对象的工厂类必须实现这个接口。在实际的系统中，这个角色也常常使用抽象">
<meta property="og:locale">
<meta property="og:image" content="https://i.loli.net/2021/10/09/yqiwz7R5s8XJLgk.png">
<meta property="og:image" content="https://i.loli.net/2021/07/06/xRmF8eSUDtYkKqc.png">
<meta property="og:image" content="https://i.loli.net/2021/07/06/JO9kUmg2uxpTFDC.png">
<meta property="og:image" content="https://i.loli.net/2021/07/25/srR3XFkKhzqwgST.png">
<meta property="og:image" content="https://i.loli.net/2021/07/27/hU7z8orKEqcfRTs.png">
<meta property="og:image" content="https://i.loli.net/2021/07/31/zgHxTCYXOutLGIw.png">
<meta property="og:image" content="https://i.loli.net/2021/08/02/SUsPml2aDMeNL5d.png">
<meta property="og:image" content="https://i.loli.net/2021/05/30/5DhpMVrBW7sacG4.png">
<meta property="og:image" content="https://i.loli.net/2021/05/30/KyBgCIe9URVvQ72.png">
<meta property="og:image" content="https://i.loli.net/2021/06/06/3IRDgTwMJ4eHknu.png">
<meta property="og:image" content="https://i.loli.net/2021/06/09/gsVNX4bzRZtIG9q.png">
<meta property="og:image" content="https://i.loli.net/2021/06/10/PHqvo16adsj7uSK.png">
<meta property="og:image" content="https://i.loli.net/2021/06/21/kB69zPKIUS4ELFl.png">
<meta property="og:image" content="https://i.loli.net/2021/06/22/LFv2Ax9gInVReUT.png">
<meta property="og:image" content="https://i.loli.net/2021/06/23/vFeChU39TQ6M2mx.png">
<meta property="article:published_time" content="2021-10-12T01:13:17.000Z">
<meta property="article:modified_time" content="2025-05-26T10:28:42.987Z">
<meta property="article:author" content="Ak1raKay">
<meta property="article:tag" content="DesignPattern">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://i.loli.net/2021/10/09/yqiwz7R5s8XJLgk.png">
    
    
      
        
          <link rel="shortcut icon" href="/images/favicon.ico">
        
      
      
        
          <link rel="icon" type="image/png" href="/images/favicon-192x192.png" sizes="192x192">
        
      
      
        
          <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
        
      
    
    <!-- title -->
    <title>Category: DesignPattern</title>
    <!-- styles -->
    
<link rel="stylesheet" href="/css/style.css">

    <!-- persian styles -->
    
    <!-- rss -->
    
    
	<!-- mathjax -->
	
		<script type="text/x-mathjax-config">
		  MathJax.Hub.Config({
			tex2jax: {
			  skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
			  inlineMath: [['$','$']]
			}
		  });
		</script>
		<script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-MML-AM_CHTML' async></script>
	
<meta name="generator" content="Hexo 7.3.0"></head>

<body class="max-width mx-auto px3 ltr">
    
      <div id="header-post">
  <a id="menu-icon" href="#" aria-label="Menu"><i class="fas fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#" aria-label="Menu"><i class="fas fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" "Top" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fas fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/archives/">Writing</a></li>
         
          <li><a href="/tags">tags</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/search/">Search</a></li>
        
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li><a class="icon" aria-label="Previous post " href="/2022/03/6562e4ff8b6f.html"><i class="fas fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i></a></li>
        
        
        <li><a class="icon" aria-label="Next post " href="/2021/06/0e41306eec32.html"><i class="fas fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i></a></li>
        
        <li><a class="icon" aria-label="Back to top " href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
        <li><a class="icon" aria-label="Share post " href="#"><i class="fas fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=http://example.com/2021/10/41ba87453dc6.html"><i class="fab fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=http://example.com/2021/10/41ba87453dc6.html&text=设计模式"><i class="fab fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=http://example.com/2021/10/41ba87453dc6.html&title=设计模式"><i class="fab fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=http://example.com/2021/10/41ba87453dc6.html&is_video=false&description=设计模式"><i class="fab fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=设计模式&body=Check out this article: http://example.com/2021/10/41ba87453dc6.html"><i class="fas fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=http://example.com/2021/10/41ba87453dc6.html&title=设计模式"><i class="fab fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=http://example.com/2021/10/41ba87453dc6.html&title=设计模式"><i class="fab fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=http://example.com/2021/10/41ba87453dc6.html&title=设计模式"><i class="fab fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=http://example.com/2021/10/41ba87453dc6.html&title=设计模式"><i class="fab fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=http://example.com/2021/10/41ba87453dc6.html&name=设计模式&description="><i class="fab fa-tumblr " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=http://example.com/2021/10/41ba87453dc6.html&t=设计模式"><i class="fab fa-hacker-news " aria-hidden="true"></i></a></li>
</ul>

    </div>
    <div id="toc">
      <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">1.</span> <span class="toc-text">设计模式</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E5%9E%8B"><span class="toc-number">1.1.</span> <span class="toc-text">创建型</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B7%A5%E5%8E%82%E6%96%B9%E6%B3%95%E6%A8%A1%E5%BC%8F"><span class="toc-number">1.1.1.</span> <span class="toc-text">工厂方法模式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%84%8F%E5%9B%BE"><span class="toc-number">1.1.1.1.</span> <span class="toc-text">意图</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88"><span class="toc-number">1.1.1.2.</span> <span class="toc-text">解决方案</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#UML%E7%B1%BB%E5%9B%BE"><span class="toc-number">1.1.1.3.</span> <span class="toc-text">UML类图</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Code-Demo"><span class="toc-number">1.1.1.4.</span> <span class="toc-text">Code Demo</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Ref"><span class="toc-number">1.1.1.5.</span> <span class="toc-text">Ref</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%93%E6%9E%84%E5%9E%8B"><span class="toc-number">1.2.</span> <span class="toc-text">结构型</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%82%E9%85%8D%E5%99%A8%E6%A8%A1%E5%BC%8F"><span class="toc-number">1.2.1.</span> <span class="toc-text">适配器模式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%84%8F%E5%9B%BE-v2"><span class="toc-number">1.2.1.1.</span> <span class="toc-text">意图</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88-v2"><span class="toc-number">1.2.1.2.</span> <span class="toc-text">解决方案</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#UML%E7%B1%BB%E5%9B%BE-v2"><span class="toc-number">1.2.1.3.</span> <span class="toc-text">UML类图</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Code-Demo-v2"><span class="toc-number">1.2.1.4.</span> <span class="toc-text">Code Demo</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%82%E7%94%A8%E5%9C%BA%E6%99%AF"><span class="toc-number">1.2.1.5.</span> <span class="toc-text">适用场景</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Ref-v2"><span class="toc-number">1.2.1.6.</span> <span class="toc-text">Ref</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A1%A5%E6%8E%A5%E6%A8%A1%E5%BC%8F"><span class="toc-number">1.2.2.</span> <span class="toc-text">桥接模式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%84%8F%E5%9B%BE-v3"><span class="toc-number">1.2.2.1.</span> <span class="toc-text">意图</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88-v3"><span class="toc-number">1.2.2.2.</span> <span class="toc-text">解决方案</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#UML%E7%B1%BB%E5%9B%BE-v3"><span class="toc-number">1.2.2.3.</span> <span class="toc-text">UML类图</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Code-Demo-v3"><span class="toc-number">1.2.2.4.</span> <span class="toc-text">Code Demo</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%82%E7%94%A8%E5%9C%BA%E6%99%AF-v2"><span class="toc-number">1.2.2.5.</span> <span class="toc-text">适用场景</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Ref-v3"><span class="toc-number">1.2.2.6.</span> <span class="toc-text">Ref</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%84%E5%90%88%E6%A8%A1%E5%BC%8F"><span class="toc-number">1.2.3.</span> <span class="toc-text">组合模式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%84%8F%E5%9B%BE-v4"><span class="toc-number">1.2.3.1.</span> <span class="toc-text">意图</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88-v4"><span class="toc-number">1.2.3.2.</span> <span class="toc-text">解决方案</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#UML%E7%B1%BB%E5%9B%BE-v4"><span class="toc-number">1.2.3.3.</span> <span class="toc-text">UML类图</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Code-Demo-v4"><span class="toc-number">1.2.3.4.</span> <span class="toc-text">Code Demo</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%82%E7%94%A8%E5%9C%BA%E6%99%AF-v3"><span class="toc-number">1.2.3.5.</span> <span class="toc-text">适用场景</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Ref-v4"><span class="toc-number">1.2.3.6.</span> <span class="toc-text">Ref</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A3%85%E9%A5%B0%E5%99%A8%E6%A8%A1%E5%BC%8F"><span class="toc-number">1.2.4.</span> <span class="toc-text">装饰器模式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%84%8F%E5%9B%BE-v5"><span class="toc-number">1.2.4.1.</span> <span class="toc-text">意图</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88-v5"><span class="toc-number">1.2.4.2.</span> <span class="toc-text">解决方案</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#UML%E7%B1%BB%E5%9B%BE-v5"><span class="toc-number">1.2.4.3.</span> <span class="toc-text">UML类图</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Code-Demo-v5"><span class="toc-number">1.2.4.4.</span> <span class="toc-text">Code Demo</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%82%E7%94%A8%E5%9C%BA%E6%99%AF-v4"><span class="toc-number">1.2.4.5.</span> <span class="toc-text">适用场景</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Ref-v5"><span class="toc-number">1.2.4.6.</span> <span class="toc-text">Ref</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%AB%E5%85%83%E6%A8%A1%E5%BC%8F"><span class="toc-number">1.2.5.</span> <span class="toc-text">享元模式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%84%8F%E5%9B%BE-v6"><span class="toc-number">1.2.5.1.</span> <span class="toc-text">意图</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88-v6"><span class="toc-number">1.2.5.2.</span> <span class="toc-text">解决方案</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#UML%E7%B1%BB%E5%9B%BE-v6"><span class="toc-number">1.2.5.3.</span> <span class="toc-text">UML类图</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Code-Demo-v6"><span class="toc-number">1.2.5.4.</span> <span class="toc-text">Code Demo</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%82%E7%94%A8%E5%9C%BA%E6%99%AF-v5"><span class="toc-number">1.2.5.5.</span> <span class="toc-text">适用场景</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Ref-v6"><span class="toc-number">1.2.5.6.</span> <span class="toc-text">Ref</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%A1%8C%E4%B8%BA%E6%A8%A1%E5%BC%8F"><span class="toc-number">1.3.</span> <span class="toc-text">行为模式</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%91%BD%E4%BB%A4%E6%A8%A1%E5%BC%8F"><span class="toc-number">1.3.1.</span> <span class="toc-text">命令模式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%84%8F%E5%9B%BE-v7"><span class="toc-number">1.3.1.1.</span> <span class="toc-text">意图</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88-v7"><span class="toc-number">1.3.1.2.</span> <span class="toc-text">解决方案</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#UML%E7%B1%BB%E5%9B%BE-v7"><span class="toc-number">1.3.1.3.</span> <span class="toc-text">UML类图</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Code-Demo-v7"><span class="toc-number">1.3.1.4.</span> <span class="toc-text">Code Demo</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%82%E7%94%A8%E5%9C%BA%E6%99%AF-v6"><span class="toc-number">1.3.1.5.</span> <span class="toc-text">适用场景</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Ref-v7"><span class="toc-number">1.3.1.6.</span> <span class="toc-text">Ref</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B4%A3%E4%BB%BB%E9%93%BE%E6%A8%A1%E5%BC%8F"><span class="toc-number">1.3.2.</span> <span class="toc-text">责任链模式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%84%8F%E5%9B%BE-v8"><span class="toc-number">1.3.2.1.</span> <span class="toc-text">意图</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88-v8"><span class="toc-number">1.3.2.2.</span> <span class="toc-text">解决方案</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#UML%E7%B1%BB%E5%9B%BE-v8"><span class="toc-number">1.3.2.3.</span> <span class="toc-text">UML类图</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Code-Demo-v8"><span class="toc-number">1.3.2.4.</span> <span class="toc-text">Code Demo</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%82%E7%94%A8%E5%9C%BA%E6%99%AF-v7"><span class="toc-number">1.3.2.5.</span> <span class="toc-text">适用场景</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Ref-v8"><span class="toc-number">1.3.2.6.</span> <span class="toc-text">Ref</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%AD%E4%BB%8B%E6%A8%A1%E5%BC%8F"><span class="toc-number">1.3.3.</span> <span class="toc-text">中介模式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%84%8F%E5%9B%BE-v9"><span class="toc-number">1.3.3.1.</span> <span class="toc-text">意图</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88-v9"><span class="toc-number">1.3.3.2.</span> <span class="toc-text">解决方案</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#UML%E7%B1%BB%E5%9B%BE-v9"><span class="toc-number">1.3.3.3.</span> <span class="toc-text">UML类图</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Code-Demo-v9"><span class="toc-number">1.3.3.4.</span> <span class="toc-text">Code Demo</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%82%E7%94%A8%E5%9C%BA%E6%99%AF-v8"><span class="toc-number">1.3.3.5.</span> <span class="toc-text">适用场景</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Ref-v9"><span class="toc-number">1.3.3.6.</span> <span class="toc-text">Ref</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%87%E5%BF%98%E5%BD%95%E6%A8%A1%E5%BC%8F"><span class="toc-number">1.3.4.</span> <span class="toc-text">备忘录模式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%84%8F%E5%9B%BE-v10"><span class="toc-number">1.3.4.1.</span> <span class="toc-text">意图</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88-v10"><span class="toc-number">1.3.4.2.</span> <span class="toc-text">解决方案</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#UML%E7%B1%BB%E5%9B%BE-v10"><span class="toc-number">1.3.4.3.</span> <span class="toc-text">UML类图</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Code-Demo-v10"><span class="toc-number">1.3.4.4.</span> <span class="toc-text">Code Demo</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%82%E7%94%A8%E5%9C%BA%E6%99%AF-v9"><span class="toc-number">1.3.4.5.</span> <span class="toc-text">适用场景</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Ref-v10"><span class="toc-number">1.3.4.6.</span> <span class="toc-text">Ref</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F"><span class="toc-number">1.3.5.</span> <span class="toc-text">观察者模式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%84%8F%E5%9B%BE-v11"><span class="toc-number">1.3.5.1.</span> <span class="toc-text">意图</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88-v11"><span class="toc-number">1.3.5.2.</span> <span class="toc-text">解决方案</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#UML%E7%B1%BB%E5%9B%BE-v11"><span class="toc-number">1.3.5.3.</span> <span class="toc-text">UML类图</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Code-Demo-v11"><span class="toc-number">1.3.5.4.</span> <span class="toc-text">Code Demo</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%82%E7%94%A8%E5%9C%BA%E6%99%AF-v10"><span class="toc-number">1.3.5.5.</span> <span class="toc-text">适用场景</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Ref-v11"><span class="toc-number">1.3.5.6.</span> <span class="toc-text">Ref</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%8A%B6%E6%80%81%E6%A8%A1%E5%BC%8F"><span class="toc-number">1.3.6.</span> <span class="toc-text">状态模式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%84%8F%E5%9B%BE-v12"><span class="toc-number">1.3.6.1.</span> <span class="toc-text">意图</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88-v12"><span class="toc-number">1.3.6.2.</span> <span class="toc-text">解决方案</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#UML%E7%B1%BB%E5%9B%BE-v12"><span class="toc-number">1.3.6.3.</span> <span class="toc-text">UML类图</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Code-Demo-v12"><span class="toc-number">1.3.6.4.</span> <span class="toc-text">Code Demo</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%82%E7%94%A8%E5%9C%BA%E6%99%AF-v11"><span class="toc-number">1.3.6.5.</span> <span class="toc-text">适用场景</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Ref-v12"><span class="toc-number">1.3.6.6.</span> <span class="toc-text">Ref</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AD%96%E7%95%A5%E6%A8%A1%E5%BC%8F"><span class="toc-number">1.3.7.</span> <span class="toc-text">策略模式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%84%8F%E5%9B%BE-v13"><span class="toc-number">1.3.7.1.</span> <span class="toc-text">意图</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88-v13"><span class="toc-number">1.3.7.2.</span> <span class="toc-text">解决方案</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#UML%E7%B1%BB%E5%9B%BE-v13"><span class="toc-number">1.3.7.3.</span> <span class="toc-text">UML类图</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Code-Demo-v13"><span class="toc-number">1.3.7.4.</span> <span class="toc-text">Code Demo</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%82%E7%94%A8%E5%9C%BA%E6%99%AF-v12"><span class="toc-number">1.3.7.5.</span> <span class="toc-text">适用场景</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Ref-v13"><span class="toc-number">1.3.7.6.</span> <span class="toc-text">Ref</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A8%A1%E6%9D%BF%E6%96%B9%E6%B3%95"><span class="toc-number">1.3.8.</span> <span class="toc-text">模板方法</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%84%8F%E5%9B%BE-v14"><span class="toc-number">1.3.8.1.</span> <span class="toc-text">意图</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88-v14"><span class="toc-number">1.3.8.2.</span> <span class="toc-text">解决方案</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#UML%E7%B1%BB%E5%9B%BE-v14"><span class="toc-number">1.3.8.3.</span> <span class="toc-text">UML类图</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Code-Demo-v14"><span class="toc-number">1.3.8.4.</span> <span class="toc-text">Code Demo</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%82%E7%94%A8%E5%9C%BA%E6%99%AF-v13"><span class="toc-number">1.3.8.5.</span> <span class="toc-text">适用场景</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Ref-v14"><span class="toc-number">1.3.8.6.</span> <span class="toc-text">Ref</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%BF%E9%97%AE%E8%80%85%E6%A8%A1%E5%BC%8F"><span class="toc-number">1.3.9.</span> <span class="toc-text">访问者模式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%84%8F%E5%9B%BE-v15"><span class="toc-number">1.3.9.1.</span> <span class="toc-text">意图</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88-v15"><span class="toc-number">1.3.9.2.</span> <span class="toc-text">解决方案</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#UML%E7%B1%BB%E5%9B%BE-v15"><span class="toc-number">1.3.9.3.</span> <span class="toc-text">UML类图</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Code-Demo-v15"><span class="toc-number">1.3.9.4.</span> <span class="toc-text">Code Demo</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%82%E7%94%A8%E5%9C%BA%E6%99%AF-v14"><span class="toc-number">1.3.9.5.</span> <span class="toc-text">适用场景</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Ref-v15"><span class="toc-number">1.3.9.6.</span> <span class="toc-text">Ref</span></a></li></ol></li></ol></li></ol></li></ol>
    </div>
  </span>
</div>

    
    <div class="content index py4">
        
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle" itemprop="name headline">
        设计模式
    </h1>



    <div class="meta">
      <span class="author" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span itemprop="name">Ak1raKay</span>
      </span>
      
    <div class="postdate">
      
        <time datetime="2021-10-12T01:13:17.000Z" itemprop="datePublished">2021-10-12</time>
        
      
    </div>


      
    <div class="article-category">
        <i class="fas fa-archive"></i>
        <a class="category-link" href="/categories/DesignPattern/">DesignPattern</a>
    </div>


      
    <div class="article-tag">
        <i class="fas fa-tag"></i>
        <a class="tag-link-link" href="/tags/DesignPattern/" rel="tag">DesignPattern</a>
    </div>


    </div>
  </header>
  

  <div class="content" itemprop="articleBody">
    <h1>设计模式</h1>
<h2 id="创建型"><a class="header-anchor" href="#创建型"></a>创建型</h2>
<h3 id="工厂方法模式"><a class="header-anchor" href="#工厂方法模式"></a>工厂方法模式</h3>
<h4 id="意图"><a class="header-anchor" href="#意图"></a>意图</h4>
<p>定义一个创建产品对象的工厂接口，将实际创建工作推迟到子类中</p>
<h4 id="解决方案"><a class="header-anchor" href="#解决方案"></a>解决方案</h4>
<p>核心类变成了一个抽象工厂角色，仅负责给出具体工厂子类必须实现的接口，具体实现细节由子类决定。</p>
<h4 id="UML类图"><a class="header-anchor" href="#UML类图"></a>UML类图</h4>
<p><img src="https://i.loli.net/2021/10/09/yqiwz7R5s8XJLgk.png" alt="image-20211009133405966"></p>
<h4 id="Code-Demo"><a class="header-anchor" href="#Code-Demo"></a>Code Demo</h4>
<p>抽象工厂（ExportFactory）角色：担任这个角色的是工厂方法模式的核心，任何在模式中创建对象的工厂类必须实现这个接口。在实际的系统中，这个角色也常常使用抽象类实现。</p>
<p>具体工厂（ExportHtmlFactory、ExportPdfFactory）角色：担任这个角色的是实现了抽象工厂接口的具体JAVA类。具体工厂角色含有与业务密切相关的逻辑，并且受到使用者的调用以创建导出类（如：ExportStandardHtmlFile）。</p>
<p>抽象导出（ExportFile）角色：工厂方法模式所创建的对象的超类，也就是所有导出类的共同父类或共同拥有的接口。在实际的系统中，这个角色也常常使用抽象类实现。</p>
<p>具体导出（ExportStandardHtmlFile等）角色：这个角色实现了抽象导出（ExportFile）角色所声明的接口，工厂方法模式所创建的每一个对象都是某个具体导出角色的实例。</p>
<p>ExportFactory:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">ExportFactory</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> ExportFile <span class="title function_">factory</span><span class="params">(String type)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ExportHtmlFactory:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ExportHtmlFactory</span> <span class="keyword">implements</span> <span class="title class_">ExportFactory</span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> ExportFile <span class="title function_">factory</span><span class="params">(String type)</span> &#123;      </span><br><span class="line">        <span class="keyword">if</span>(<span class="string">&quot;standard&quot;</span>.equals(type))&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">ExportStandardHtmlFile</span>();</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(<span class="string">&quot;financial&quot;</span>.equals(type))&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">ExportFinancialHtmlFile</span>();</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(<span class="string">&quot;没有找到对象&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ExportPdfFactory:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ExportPdfFactory</span> <span class="keyword">implements</span> <span class="title class_">ExportFactory</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> ExportFile <span class="title function_">factory</span><span class="params">(String type)</span> &#123;      </span><br><span class="line">        <span class="keyword">if</span> (<span class="string">&quot;standard&quot;</span>.equals(type)) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">ExportStandardPdfFile</span>();</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="string">&quot;financial&quot;</span>.equals(type)) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">ExportFinancialPdfFile</span>();</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(<span class="string">&quot;没有找到对象&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ExportFile:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">ExportFile</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">export</span><span class="params">(String data)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ExportFinancialHtmlFile:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ExportFinancialHtmlFile</span> <span class="keyword">implements</span> <span class="title class_">ExportFile</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">export</span><span class="params">(String data)</span> &#123;</span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * 业务逻辑</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        System.out.println(<span class="string">&quot;导出财务版HTML文件&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ExportFinancialPdfFile:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ExportFinancialPdfFile</span> <span class="keyword">implements</span> <span class="title class_">ExportFile</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">export</span><span class="params">(String data)</span> &#123;</span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * 业务逻辑</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        System.out.println(<span class="string">&quot;导出财务版PDF文件&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="Ref"><a class="header-anchor" href="#Ref"></a>Ref</h4>
<ul>
<li><a target="_blank" rel="noopener" href="https://www.cnblogs.com/java-my-life/archive/2012/03/25/2416227.html">Java与模式-工厂方法模式</a></li>
</ul>
<h2 id="结构型"><a class="header-anchor" href="#结构型"></a>结构型</h2>
<h3 id="适配器模式"><a class="header-anchor" href="#适配器模式"></a>适配器模式</h3>
<h4 id="意图-v2"><a class="header-anchor" href="#意图-v2"></a>意图</h4>
<p>适配器模式（<code>Adapter Pattern</code>）是一种结构型设计模式， 使接口不兼容的对象能够相互合作。</p>
<h4 id="解决方案-v2"><a class="header-anchor" href="#解决方案-v2"></a>解决方案</h4>
<ul>
<li>确保至少有两个类的接口不兼容</li>
<li>声明客户端接口，描述客户端如何与服务交互</li>
<li>创建适配器类</li>
<li>在适配器类中添加一个成员变量用于保存服务对象的引用</li>
<li>实现适配器类客户端接口所有方法，将工作委派给服务对象工作</li>
<li>客户端必须使用客户端接口使用适配器</li>
</ul>
<h4 id="UML类图-v2"><a class="header-anchor" href="#UML类图-v2"></a>UML类图</h4>
<p>类适配器</p>
<p><img src="https://i.loli.net/2021/07/06/xRmF8eSUDtYkKqc.png" alt="image-20210706223542693"></p>
<p>对象适配器</p>
<p><img src="https://i.loli.net/2021/07/06/JO9kUmg2uxpTFDC.png" alt="image-20210706223705728"></p>
<h4 id="Code-Demo-v2"><a class="header-anchor" href="#Code-Demo-v2"></a>Code Demo</h4>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/java-my-life/archive/2012/04/13/2442795.html">https://www.cnblogs.com/java-my-life/archive/2012/04/13/2442795.html</a></p>
<h4 id="适用场景"><a class="header-anchor" href="#适用场景"></a>适用场景</h4>
<ul>
<li>希望使用的某个类，接口与其他代码不兼容时</li>
</ul>
<h4 id="Ref-v2"><a class="header-anchor" href="#Ref-v2"></a>Ref</h4>
<ul>
<li><a target="_blank" rel="noopener" href="https://refactoringguru.cn/design-patterns/adapter">适配器模式</a></li>
<li><a target="_blank" rel="noopener" href="https://www.cnblogs.com/java-my-life/archive/2012/04/13/2442795.html">Java与模式-适配器模式</a></li>
</ul>
<h3 id="桥接模式"><a class="header-anchor" href="#桥接模式"></a>桥接模式</h3>
<h4 id="意图-v3"><a class="header-anchor" href="#意图-v3"></a>意图</h4>
<p>桥接模式（<code>Bridge Pattern</code>）是将一系列紧密相关的类拆分为抽象和实现两个独立的层次结构， 从而能在开发时分别使用。</p>
<h4 id="解决方案-v3"><a class="header-anchor" href="#解决方案-v3"></a>解决方案</h4>
<ul>
<li>抽象化
<ul>
<li>抽取出共同的、本质性的特征，舍弃其非本质的特征</li>
</ul>
</li>
<li>实现化
<ul>
<li>给出抽象的具体实现</li>
</ul>
</li>
<li>解耦
<ul>
<li>解除实体间的强关联（编译时期就已经确定的，无法在运行时期动态改变的关联）</li>
</ul>
</li>
</ul>
<h4 id="UML类图-v3"><a class="header-anchor" href="#UML类图-v3"></a>UML类图</h4>
<p><img src="https://i.loli.net/2021/07/25/srR3XFkKhzqwgST.png" alt="image-20210725142739115"></p>
<h4 id="Code-Demo-v3"><a class="header-anchor" href="#Code-Demo-v3"></a>Code Demo</h4>
<p>Abstraction</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">Abstraction</span> &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">protected</span> Implementor impl;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Abstraction</span><span class="params">(Implementor impl)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.impl = impl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//示例方法</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">operation</span><span class="params">()</span>&#123;</span><br><span class="line">        </span><br><span class="line">        impl.operationImpl();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>RefinedAbstraction</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RefinedAbstraction</span> <span class="keyword">extends</span> <span class="title class_">Abstraction</span> &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">RefinedAbstraction</span><span class="params">(Implementor impl)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>(impl);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//其他的操作方法</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">otherOperation</span><span class="params">()</span>&#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Implementor</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">Implementor</span> &#123;</span><br><span class="line">    <span class="comment">/** </span></span><br><span class="line"><span class="comment">     * 示例方法，实现抽象部分需要的某些具体功能 </span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">operationImpl</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ConcreteImplementorA</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ConcreteImplementorA</span> <span class="keyword">extends</span> <span class="title class_">Implementor</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">operationImpl</span><span class="params">()</span> &#123;  </span><br><span class="line">        <span class="comment">//具体操作      </span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ConcreateImplementorB</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ConcreteImplementorB</span> <span class="keyword">extends</span> <span class="title class_">Implementor</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">operationImpl</span><span class="params">()</span> &#123;  </span><br><span class="line">        <span class="comment">//具体操作</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="适用场景-v2"><a class="header-anchor" href="#适用场景-v2"></a>适用场景</h4>
<ul>
<li>拆分、重组具有多个功能的庞杂类</li>
<li>多重维度扩展类</li>
<li>运行时态切换不同方法</li>
</ul>
<h4 id="Ref-v3"><a class="header-anchor" href="#Ref-v3"></a>Ref</h4>
<ul>
<li><a target="_blank" rel="noopener" href="https://www.cnblogs.com/java-my-life/archive/2012/05/07/2480938.html">Java与模式-桥接模式</a></li>
<li><a target="_blank" rel="noopener" href="https://refactoringguru.cn/design-patterns/bridge">桥接设计模式</a></li>
</ul>
<h3 id="组合模式"><a class="header-anchor" href="#组合模式"></a>组合模式</h3>
<h4 id="意图-v4"><a class="header-anchor" href="#意图-v4"></a>意图</h4>
<p>组合模式（<code>Composite Pattern</code>）将对象组合成树状结构， 并且能像使用独立对象一样使用</p>
<h4 id="解决方案-v4"><a class="header-anchor" href="#解决方案-v4"></a>解决方案</h4>
<ul>
<li>确保应用的核心模型能够以树状结构表示，并能够将其分解为简单元素和容器</li>
<li>声明接口及对简单和复杂元素都有意义的组件方法</li>
<li>创建一个叶节点类表示简单元素</li>
<li>创建一个容器类表示复杂元素</li>
<li>在容器中定义添加和删除子元素的方法</li>
</ul>
<h4 id="UML类图-v4"><a class="header-anchor" href="#UML类图-v4"></a>UML类图</h4>
<p><img src="https://i.loli.net/2021/07/27/hU7z8orKEqcfRTs.png" alt="image-20210727093155923"></p>
<h4 id="Code-Demo-v4"><a class="header-anchor" href="#Code-Demo-v4"></a>Code Demo</h4>
<p>Component</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Component</span> &#123;</span><br><span class="line">    <span class="comment">/** </span></span><br><span class="line"><span class="comment">     * 输出组建自身的名称 </span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">printStruct</span><span class="params">(String preStr)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Composite</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Composite</span> <span class="keyword">implements</span> <span class="title class_">Component</span> &#123;</span><br><span class="line">    <span class="comment">/** </span></span><br><span class="line"><span class="comment">     * 用来存储组合对象中包含的子组件对象 </span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> List&lt;Component&gt; childComponents = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;Component&gt;();</span><br><span class="line">    <span class="comment">/** </span></span><br><span class="line"><span class="comment">     * 组合对象的名字</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/** </span></span><br><span class="line"><span class="comment">     * 构造方法，传入组合对象的名字     </span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> name    组合对象的名字 </span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Composite</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/** </span></span><br><span class="line"><span class="comment">     * 聚集管理方法，增加一个子构件对象     </span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> child 子构件对象 </span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">addChild</span><span class="params">(Component child)</span> &#123;</span><br><span class="line">        childComponents.add(child);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/** </span></span><br><span class="line"><span class="comment">     * 聚集管理方法，删除一个子构件对象     </span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> index 子构件对象的下标 </span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">removeChild</span><span class="params">(<span class="type">int</span> index)</span> &#123;</span><br><span class="line">        childComponents.remove(index);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/** </span></span><br><span class="line"><span class="comment">     * 聚集管理方法，返回所有子构件对象 </span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> List&lt;Component&gt; <span class="title function_">getChild</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> childComponents;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/** </span></span><br><span class="line"><span class="comment">     * 输出对象的自身结构     </span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> preStr 前缀，主要是按照层级拼接空格，实现向后缩进</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">printStruct</span><span class="params">(String preStr)</span> &#123;</span><br><span class="line">        <span class="comment">// 先把自己输出</span></span><br><span class="line">        System.out.println(preStr + <span class="string">&quot;+&quot;</span> + <span class="built_in">this</span>.name);</span><br><span class="line">        <span class="comment">//如果还包含有子组件，那么就输出这些子组件对象</span></span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">this</span>.childComponents != <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="comment">//添加两个空格，表示向后缩进两个空格</span></span><br><span class="line">            preStr += <span class="string">&quot;  &quot;</span>;</span><br><span class="line">            <span class="comment">//输出当前对象的子对象</span></span><br><span class="line">            <span class="keyword">for</span> (Component c : childComponents) &#123;</span><br><span class="line">                <span class="comment">//递归输出每个子对象</span></span><br><span class="line">                c.printStruct(preStr);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Leaf</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Leaf</span> <span class="keyword">implements</span> <span class="title class_">Component</span> &#123;</span><br><span class="line">    <span class="comment">/** </span></span><br><span class="line"><span class="comment">     * 叶子对象的名字</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/** </span></span><br><span class="line"><span class="comment">     * 构造方法，传入叶子对象的名称     </span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> name 叶子对象的名字 </span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Leaf</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/** </span></span><br><span class="line"><span class="comment">     * 输出叶子对象的结构，叶子对象没有子对象，也就是输出叶子对象的名字     </span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> preStr 前缀，主要是按照层级拼接的空格，实现向后缩进 </span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">printStruct</span><span class="params">(String preStr)</span> &#123;</span><br><span class="line">        System.out.println(preStr + <span class="string">&quot;-&quot;</span> + name);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Client</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Client</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Composite</span> <span class="variable">root</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Composite</span>(<span class="string">&quot;服装&quot;</span>);</span><br><span class="line">        <span class="type">Composite</span> <span class="variable">c1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Composite</span>(<span class="string">&quot;男装&quot;</span>);</span><br><span class="line">        <span class="type">Composite</span> <span class="variable">c2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Composite</span>(<span class="string">&quot;女装&quot;</span>);</span><br><span class="line">        <span class="type">Leaf</span> <span class="variable">leaf1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Leaf</span>(<span class="string">&quot;衬衫&quot;</span>);</span><br><span class="line">        <span class="type">Leaf</span> <span class="variable">leaf2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Leaf</span>(<span class="string">&quot;夹克&quot;</span>);</span><br><span class="line">        <span class="type">Leaf</span> <span class="variable">leaf3</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Leaf</span>(<span class="string">&quot;裙子&quot;</span>);</span><br><span class="line">        <span class="type">Leaf</span> <span class="variable">leaf4</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Leaf</span>(<span class="string">&quot;套装&quot;</span>);</span><br><span class="line">        root.addChild(c1);</span><br><span class="line">        root.addChild(c2);</span><br><span class="line">        c1.addChild(leaf1);</span><br><span class="line">        c1.addChild(leaf2);</span><br><span class="line">        c2.addChild(leaf3);</span><br><span class="line">        c2.addChild(leaf4);</span><br><span class="line">        root.printStruct(<span class="string">&quot;&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="适用场景-v3"><a class="header-anchor" href="#适用场景-v3"></a>适用场景</h4>
<ul>
<li>需要实现树状对象结构</li>
<li>希望客户端代码以相同方式处理简单和复杂元素</li>
</ul>
<h4 id="Ref-v4"><a class="header-anchor" href="#Ref-v4"></a>Ref</h4>
<ul>
<li><a target="_blank" rel="noopener" href="https://refactoringguru.cn/design-patterns/composite">组合模式</a></li>
<li><a target="_blank" rel="noopener" href="https://www.cnblogs.com/java-my-life/archive/2012/04/17/2453861.html">JAVA与模式-合成模式</a></li>
</ul>
<h3 id="装饰器模式"><a class="header-anchor" href="#装饰器模式"></a>装饰器模式</h3>
<h4 id="意图-v5"><a class="header-anchor" href="#意图-v5"></a>意图</h4>
<p>装饰器模式（<code>Decorator Pattern</code>）以客户端透明的方式扩展对象的功能</p>
<h4 id="解决方案-v5"><a class="header-anchor" href="#解决方案-v5"></a>解决方案</h4>
<ul>
<li>确保业务逻辑可用一个基本组件及多个额外可选层次表示。</li>
<li>找出基本组件和可选层次的通用方法。 创建一个组件接口并在其中声明这些方法。</li>
<li>创建一个具体组件类， 并定义其基础行为。</li>
<li>创建装饰基类， 使用一个成员变量存储指向被封装对象的引用。 该成员变量必须被声明为组件接口类型， 从而能在运行时连接具体组件和装饰。 装饰基类必须将所有工作委派给被封装的对象。</li>
<li>确保所有类实现组件接口。</li>
<li>将装饰基类扩展为具体装饰。 具体装饰必须在调用父类方法 （总是委派给被封装对象） 之前或之后执行自身的行为。</li>
<li>客户端代码负责创建装饰并将其组合成客户端所需的形式。</li>
</ul>
<h4 id="UML类图-v5"><a class="header-anchor" href="#UML类图-v5"></a>UML类图</h4>
<p><img src="https://i.loli.net/2021/07/31/zgHxTCYXOutLGIw.png" alt="image-20210731224242122"></p>
<h4 id="Code-Demo-v5"><a class="header-anchor" href="#Code-Demo-v5"></a>Code Demo</h4>
<p>抽象构建角色</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Component</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">sampleOperation</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>具体构建角色</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ConcreteComponent</span> <span class="keyword">implements</span> <span class="title class_">Component</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">sampleOperation</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">// 写相关的业务代码</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>装饰角色</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Decorator</span> <span class="keyword">implements</span> <span class="title class_">Component</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> Component component;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Decorator</span><span class="params">(Component component)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.component = component;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">sampleOperation</span><span class="params">()</span> &#123;        </span><br><span class="line">				<span class="comment">// 委派给构件</span></span><br><span class="line">        component.sampleOperation();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>具体装饰角色</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ConcreteDecoratorA</span> <span class="keyword">extends</span> <span class="title class_">Decorator</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">ConcreteDecoratorA</span><span class="params">(Component component)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>(component);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">sampleOperation</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>.sampleOperation();</span><br><span class="line">        <span class="comment">// 写相关的业务代码</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ConcreteDecoratorB</span> <span class="keyword">extends</span> <span class="title class_">Decorator</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">ConcreteDecoratorB</span><span class="params">(Component component)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>(component);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">sampleOperation</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>.sampleOperation();</span><br><span class="line">				<span class="comment">// 写相关的业务代码 </span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="适用场景-v4"><a class="header-anchor" href="#适用场景-v4"></a>适用场景</h4>
<ul>
<li>在无需修改代码的情况下即可使用对象，且希望在运行时为对象新增额外的行为，可以使用装饰模式</li>
</ul>
<h4 id="Ref-v5"><a class="header-anchor" href="#Ref-v5"></a>Ref</h4>
<ul>
<li><a target="_blank" rel="noopener" href="https://refactoringguru.cn/design-patterns/decorator">装饰器模式</a></li>
<li><a target="_blank" rel="noopener" href="https://www.cnblogs.com/java-my-life/archive/2012/04/20/2455726.html">Java与模式-装饰器模式</a></li>
</ul>
<h3 id="享元模式"><a class="header-anchor" href="#享元模式"></a>享元模式</h3>
<h4 id="意图-v6"><a class="header-anchor" href="#意图-v6"></a>意图</h4>
<p>享元模式（<code>Flyweight Pattern</code>）以共享的方式高效地支持大量的细粒度对象</p>
<h4 id="解决方案-v6"><a class="header-anchor" href="#解决方案-v6"></a>解决方案</h4>
<ul>
<li>将需要改写为享元的类成员变量拆分为两个部分
<ul>
<li>内在状态： 包含不变的、 可在许多对象中重复使用的数据的成员变量。</li>
<li>外在状态： 包含每个对象各自不同的情景数据的成员变量</li>
</ul>
</li>
<li>保留类中表示内在状态的成员变量， 并将其属性设置为不可修改</li>
</ul>
<h4 id="UML类图-v6"><a class="header-anchor" href="#UML类图-v6"></a>UML类图</h4>
<p><img src="https://i.loli.net/2021/08/02/SUsPml2aDMeNL5d.png" alt="image-20210802113908558"></p>
<h4 id="Code-Demo-v6"><a class="header-anchor" href="#Code-Demo-v6"></a>Code Demo</h4>
<p>抽象享元角色类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Flyweight</span> &#123;</span><br><span class="line">    <span class="comment">//一个示意性方法，参数state是外蕴状态</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">operation</span><span class="params">(String state)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>具体享元角色类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ConcreteFlyweight</span> <span class="keyword">implements</span> <span class="title class_">Flyweight</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">Character</span> <span class="variable">intrinsicState</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/** </span></span><br><span class="line"><span class="comment">     * 构造函数，内蕴状态作为参数传入     </span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> state </span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">ConcreteFlyweight</span><span class="params">(Character state)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.intrinsicState = state;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/** </span></span><br><span class="line"><span class="comment">     * 外蕴状态作为参数传入方法中，改变方法的行为，     </span></span><br><span class="line"><span class="comment">     * 但是并不改变对象的内蕴状态。 </span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">operation</span><span class="params">(String state)</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Intrinsic State = &quot;</span> + <span class="built_in">this</span>.intrinsicState);</span><br><span class="line">        System.out.println(<span class="string">&quot;Extrinsic State = &quot;</span> + state);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>享元工厂角色类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">FlyweightFactory</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> Map&lt;Character, Flyweight&gt; files = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;Character, Flyweight&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Flyweight <span class="title function_">factory</span><span class="params">(Character state)</span> &#123;</span><br><span class="line">        <span class="comment">//先从缓存中查找对象 </span></span><br><span class="line">        <span class="type">Flyweight</span> <span class="variable">fly</span> <span class="operator">=</span> files.get(state);</span><br><span class="line">        <span class="keyword">if</span> (fly == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="comment">//如果对象不存在则创建一个新的Flyweight对象</span></span><br><span class="line">            fly = <span class="keyword">new</span> <span class="title class_">ConcreteFlyweight</span>(state);</span><br><span class="line">            files.put(state, fly);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> fly;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>客户端</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Client</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">FlyweightFactory</span> <span class="variable">factory</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FlyweightFactory</span>();</span><br><span class="line">        <span class="type">Flyweight</span> <span class="variable">fly</span> <span class="operator">=</span> factory.factory(<span class="keyword">new</span> <span class="title class_">Character</span>(<span class="string">&#x27;a&#x27;</span>));</span><br><span class="line">        fly.operation(<span class="string">&quot;First Call&quot;</span>);</span><br><span class="line">        fly = factory.factory(<span class="keyword">new</span> <span class="title class_">Character</span>(<span class="string">&#x27;b&#x27;</span>));</span><br><span class="line">        fly.operation(<span class="string">&quot;Second Call&quot;</span>);</span><br><span class="line">        fly = factory.factory(<span class="keyword">new</span> <span class="title class_">Character</span>(<span class="string">&#x27;a&#x27;</span>));</span><br><span class="line">        fly.operation(<span class="string">&quot;Third Call&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="适用场景-v5"><a class="header-anchor" href="#适用场景-v5"></a>适用场景</h4>
<ul>
<li>程序必须支持大量对象且没有足够的内存容量时</li>
</ul>
<h4 id="Ref-v6"><a class="header-anchor" href="#Ref-v6"></a>Ref</h4>
<ul>
<li><a target="_blank" rel="noopener" href="https://refactoringguru.cn/design-patterns/flyweight">享元模式</a></li>
<li><a target="_blank" rel="noopener" href="https://www.cnblogs.com/java-my-life/archive/2012/04/26/2468499.html">Java与模式-享元模式</a></li>
</ul>
<h2 id="行为模式"><a class="header-anchor" href="#行为模式"></a>行为模式</h2>
<h3 id="命令模式"><a class="header-anchor" href="#命令模式"></a>命令模式</h3>
<h4 id="意图-v7"><a class="header-anchor" href="#意图-v7"></a>意图</h4>
<p>命令模式（<code>Command Pattern</code>） 是将请求或简单操作转换为一个对象。此转换根据不同的请求将方法参数化，可以延迟执行、远程执行、放入队列、撤销等。</p>
<h4 id="解决方案-v7"><a class="header-anchor" href="#解决方案-v7"></a>解决方案</h4>
<ol>
<li>将<code>Client</code>与<code>Receiver</code>解耦合，通过中间者<code>Invoker</code>来接收、执行命令，解除<code>Client</code>与<code>Receiver</code>的强依赖</li>
<li>命令与<code>Receiver</code>内聚，由<code>Receiver</code>来具体执行命令</li>
</ol>
<h4 id="UML类图-v7"><a class="header-anchor" href="#UML类图-v7"></a>UML类图</h4>
<p><img src="https://i.loli.net/2021/05/30/5DhpMVrBW7sacG4.png" alt="image-20210530130850877.png"></p>
<h4 id="Code-Demo-v7"><a class="header-anchor" href="#Code-Demo-v7"></a>Code Demo</h4>
<p><strong>Receiver</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Receiver</span> &#123;</span><br><span class="line">    <span class="comment">/** </span></span><br><span class="line"><span class="comment">     * 真正执行命令相应的操作 </span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">action</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;执行操作&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>Command</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Command</span> &#123;</span><br><span class="line">    <span class="comment">/** </span></span><br><span class="line"><span class="comment">     * 执行方法 </span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">execute</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>ConcreteCommand</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ConcreteCommand</span> <span class="keyword">implements</span> <span class="title class_">Command</span> &#123;</span><br><span class="line">    <span class="comment">/** </span></span><br><span class="line"><span class="comment">     * 持有相应的接收者对象 </span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">Receiver</span> <span class="variable">receiver</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/** </span></span><br><span class="line"><span class="comment">     * 构造方法     </span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> receiver </span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">ConcreteCommand</span><span class="params">(Receiver receiver)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.receiver = receiver;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">execute</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">//通常会转调接收者的形影方法，让接收者来真正执行功能 </span></span><br><span class="line">        receiver.action();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><strong>Invoker</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Invoker</span> &#123;</span><br><span class="line">    <span class="comment">/** </span></span><br><span class="line"><span class="comment">     * 持有命令对象 </span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">Command</span> <span class="variable">command</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/** </span></span><br><span class="line"><span class="comment">     * 构造方法     </span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> command </span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Invoker</span><span class="params">(Command command)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.command = command;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/** </span></span><br><span class="line"><span class="comment">     * 行动方法 </span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">action</span><span class="params">()</span> &#123;</span><br><span class="line">        command.execute();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>Client</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Client</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;        </span><br><span class="line">        <span class="comment">//1.创建接收者                </span></span><br><span class="line">        <span class="type">Receiver</span> <span class="variable">receiver</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Receiver</span>();        </span><br><span class="line">        <span class="comment">//2.创建命令对象，设定其接收者                </span></span><br><span class="line">        <span class="type">Command</span> <span class="variable">command</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ConcreteCommand</span>(receiver);        </span><br><span class="line">        <span class="comment">//3.创建请求者，把命令对象设置进去               </span></span><br><span class="line">        <span class="type">Invoker</span> <span class="variable">invoker</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Invoker</span>(command);        </span><br><span class="line">        <span class="comment">//4.执行方法               </span></span><br><span class="line">        invoker.action();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="适用场景-v6"><a class="header-anchor" href="#适用场景-v6"></a>适用场景</h4>
<ul>
<li>通过操作来参数化对象</li>
<li>将操作放置于队列中、操作的执行、远程执行操作</li>
<li>操作回滚功能</li>
</ul>
<h4 id="Ref-v7"><a class="header-anchor" href="#Ref-v7"></a>Ref</h4>
<ul>
<li>
<p><a target="_blank" rel="noopener" href="https://refactoringguru.cn/design-patterns/command">命令模式</a></p>
</li>
<li>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/java-my-life/archive/2012/06/01/2526972.html">Java与模式 - 命令模式</a></p>
</li>
</ul>
<h3 id="责任链模式"><a class="header-anchor" href="#责任链模式"></a>责任链模式</h3>
<h4 id="意图-v8"><a class="header-anchor" href="#意图-v8"></a>意图</h4>
<p>责任链模式（<code>Chain of Responsibility Pattern</code>）是将请求沿着处理者链进行发送，每个处理者都可以对请求进行处理，或传递给下一个处理者。</p>
<h4 id="解决方案-v8"><a class="header-anchor" href="#解决方案-v8"></a>解决方案</h4>
<ol>
<li>将处理者（<code>handler</code>）组成一条处理链，每个处理者可以处理请求或移交给下一个处理者或者直接将处理流程终止</li>
</ol>
<h4 id="UML类图-v8"><a class="header-anchor" href="#UML类图-v8"></a>UML类图</h4>
<p><img src="https://i.loli.net/2021/05/30/KyBgCIe9URVvQ72.png" alt="image-20210530155335237.png"></p>
<h4 id="Code-Demo-v8"><a class="header-anchor" href="#Code-Demo-v8"></a>Code Demo</h4>
<p><strong>Handler</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">Handler</span> &#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 持有后继的责任对象 </span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">protected</span> Handler successor;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/** </span></span><br><span class="line"><span class="comment">     * 示意处理请求的方法，虽然这个示意方法是没有传入参数的     </span></span><br><span class="line"><span class="comment">     * 但实际是可以传入参数的，根据具体需要来选择是否传递参数</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">handleRequest</span><span class="params">()</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/** </span></span><br><span class="line"><span class="comment">     * 取值方法 </span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> Handler <span class="title function_">getSuccessor</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> successor;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/** </span></span><br><span class="line"><span class="comment">     * 赋值方法，设置后继的责任对象 </span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setSuccessor</span><span class="params">(Handler successor)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.successor = successor;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>ConcreteHandler</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ConcreteHandler</span> <span class="keyword">extends</span> <span class="title class_">Handler</span> &#123;</span><br><span class="line">    <span class="comment">/** </span></span><br><span class="line"><span class="comment">     * 处理方法，调用此方法处理请求 </span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">handleRequest</span><span class="params">()</span> &#123;        </span><br><span class="line">        <span class="comment">/**         </span></span><br><span class="line"><span class="comment">         * 判断是否有后继的责任对象                 </span></span><br><span class="line"><span class="comment">         * 如果有，就转发请求给后继的责任对象                 </span></span><br><span class="line"><span class="comment">         * 如果没有，则处理请求                  </span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="keyword">if</span> (getSuccessor() != <span class="literal">null</span>) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;放过请求&quot;</span>);</span><br><span class="line">            getSuccessor().handleRequest();</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;处理请求&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>Client</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Client</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">//组装责任链           </span></span><br><span class="line">        <span class="type">Handler</span> <span class="variable">handler1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ConcreteHandler</span>();</span><br><span class="line">        <span class="type">Handler</span> <span class="variable">handler2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ConcreteHandler</span>();</span><br><span class="line">        handler1.setSuccessor(handler2);        </span><br><span class="line">        <span class="comment">//提交请求                </span></span><br><span class="line">        handler1.handleRequest();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="适用场景-v7"><a class="header-anchor" href="#适用场景-v7"></a>适用场景</h4>
<ul>
<li>程序需要使用不同方式处理不同类型的请求，且对请求类型和处理的顺序未知</li>
<li>程序需要按照顺序执行多个处理者</li>
<li>所需处理者及其顺序必须在运行时进行改变</li>
</ul>
<h4 id="Ref-v8"><a class="header-anchor" href="#Ref-v8"></a>Ref</h4>
<ul>
<li><a target="_blank" rel="noopener" href="https://refactoringguru.cn/design-patterns/chain-of-responsibility">责任链模式</a></li>
<li><a target="_blank" rel="noopener" href="https://www.cnblogs.com/java-my-life/archive/2012/05/28/2516865.html">Java与模式 - 责任链模式</a></li>
<li><a target="_blank" rel="noopener" href="https://www.liaoxuefeng.com/wiki/1252599548343744/1281319474561057">责任链-廖雪峰</a></li>
</ul>
<h3 id="中介模式"><a class="header-anchor" href="#中介模式"></a>中介模式</h3>
<h4 id="意图-v9"><a class="header-anchor" href="#意图-v9"></a>意图</h4>
<p>中介模式（<code>Mediator Pattern</code>）通过限制对象间的直接依赖交互，迫使它们通过中介者来进行合作</p>
<h4 id="解决方案-v9"><a class="header-anchor" href="#解决方案-v9"></a>解决方案</h4>
<ul>
<li>停止组件之间的直接交流，使其相互独立</li>
<li>组件之间必须通过中介者对象，重定向调用行为，以间接方式进行合作</li>
</ul>
<h4 id="UML类图-v9"><a class="header-anchor" href="#UML类图-v9"></a>UML类图</h4>
<p><img src="https://i.loli.net/2021/06/06/3IRDgTwMJ4eHknu.png" alt="image-20210606194828652"></p>
<h4 id="Code-Demo-v9"><a class="header-anchor" href="#Code-Demo-v9"></a>Code Demo</h4>
<p><a target="_blank" rel="noopener" href="https://www.liaoxuefeng.com/wiki/1252599548343744/1281319541669922#0">多选框Demo</a></p>
<h4 id="适用场景-v8"><a class="header-anchor" href="#适用场景-v8"></a>适用场景</h4>
<ul>
<li>对象间耦合严重，难以修改时</li>
<li>组件因依赖其他组件而无法复用时</li>
<li>因复用基本行为，而被迫创建大量子类时</li>
</ul>
<h4 id="Ref-v9"><a class="header-anchor" href="#Ref-v9"></a>Ref</h4>
<ul>
<li><a target="_blank" rel="noopener" href="https://www.liaoxuefeng.com/wiki/1252599548343744/1281319541669922">中介者模式-廖雪峰</a></li>
<li><a target="_blank" rel="noopener" href="https://refactoringguru.cn/design-patterns/mediator">中介者设计模式</a></li>
</ul>
<h3 id="备忘录模式"><a class="header-anchor" href="#备忘录模式"></a>备忘录模式</h3>
<h4 id="意图-v10"><a class="header-anchor" href="#意图-v10"></a>意图</h4>
<p>备忘录模式（<code>Memento Pattern</code>）在不破坏封装性的前提下，捕获对象的内部状态，用于以后恢复。</p>
<h4 id="解决方案-v10"><a class="header-anchor" href="#解决方案-v10"></a>解决方案</h4>
<ul>
<li>Memonto：存储的内部状态</li>
<li>Originator：创建一个备忘录并设置其状态</li>
<li>Caretaker：负责保存备忘录</li>
</ul>
<h4 id="UML类图-v10"><a class="header-anchor" href="#UML类图-v10"></a>UML类图</h4>
<p><a target="_blank" rel="noopener" href="https://refactoringguru.cn/design-patterns/memento">https://refactoringguru.cn/design-patterns/memento</a></p>
<h4 id="Code-Demo-v10"><a class="header-anchor" href="#Code-Demo-v10"></a>Code Demo</h4>
<p>Memento</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Memento</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String state;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Memento</span><span class="params">(String state)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.state = state;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getState</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> state;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setState</span><span class="params">(String state)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.state = state;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Originator</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Originator</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String state;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/** </span></span><br><span class="line"><span class="comment">     * 工厂方法，返回一个新的备忘录对象     </span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> </span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> Memento <span class="title function_">createMemento</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Memento</span>(state);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/** </span></span><br><span class="line"><span class="comment">     * 将发起人的状态恢复到备忘录对象所记录的状态      </span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> memento</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">restoreMemento</span><span class="params">(Memento memento)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.state = memento.getState();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getState</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> state;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setState</span><span class="params">(String state)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.state = state;</span><br><span class="line">        System.out.println(<span class="string">&quot;当前状态：&quot;</span> + <span class="built_in">this</span>.state);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Caretaker</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Caretaker</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> Memento memento;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/** </span></span><br><span class="line"><span class="comment">     * 备忘录的取值方法    </span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> </span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> Memento <span class="title function_">retrieveMenento</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>.memento;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/** </span></span><br><span class="line"><span class="comment">     * 备忘录的赋值方法     </span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> memento </span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">saveMemento</span><span class="params">(Memento memento)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.memento = memento;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Clinet</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Client</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Originator</span> <span class="variable">originator</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Originator</span>();</span><br><span class="line">        <span class="type">Caretaker</span> <span class="variable">caretaker</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Caretaker</span>();        </span><br><span class="line">        <span class="comment">//改变发起人对象的状态        </span></span><br><span class="line">        originator.setState(<span class="string">&quot;On&quot;</span>);       </span><br><span class="line">        <span class="comment">//创建备忘录对象，并将发起人对象的状态存储起来        </span></span><br><span class="line">        caretaker.saveMemento(originator.createMemento());        </span><br><span class="line">        <span class="comment">//修改发起人对象的状态         </span></span><br><span class="line">        originator.setState(<span class="string">&quot;Off&quot;</span>);        </span><br><span class="line">        <span class="comment">//恢复发起人对象的状态        </span></span><br><span class="line">        originator.restoreMemento(caretaker.retrieveMenento());        </span><br><span class="line">        <span class="comment">//发起人对象的状态        </span></span><br><span class="line">        System.out.println(<span class="string">&quot;发起人对象的当前状态为：&quot;</span> + originator.getState());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="适用场景-v9"><a class="header-anchor" href="#适用场景-v9"></a>适用场景</h4>
<ul>
<li>需要恢复对象先前状态</li>
<li>直接访问对象的属性与方法破坏其封装性</li>
</ul>
<h4 id="Ref-v10"><a class="header-anchor" href="#Ref-v10"></a>Ref</h4>
<ul>
<li><a target="_blank" rel="noopener" href="https://www.liaoxuefeng.com/wiki/1252599548343744/1281319562641441">备忘录模式-廖雪峰</a></li>
<li><a target="_blank" rel="noopener" href="https://refactoringguru.cn/design-patterns/memento">备忘录设计模式</a></li>
</ul>
<h3 id="观察者模式"><a class="header-anchor" href="#观察者模式"></a>观察者模式</h3>
<h4 id="意图-v11"><a class="header-anchor" href="#意图-v11"></a>意图</h4>
<p>观察者模式（<code>Observer Pattern</code>）是一种发布/订阅机制，解耦消息发送方与消息订阅方</p>
<h4 id="解决方案-v11"><a class="header-anchor" href="#解决方案-v11"></a>解决方案</h4>
<ul>
<li>
<p>需要将自身状态的变化通知给其他对象的，称为发送方（<code>publisher</code>）</p>
</li>
<li>
<p>希望关注变化的对象称为订阅者（<code>subscribers</code>）</p>
</li>
<li>
<p>为发送方添加订阅机制</p>
<ol>
<li>存储订阅者对象引用列表的成员变量</li>
<li>用于添加或删除列表中订阅者的方法</li>
</ol>
</li>
</ul>
<h4 id="UML类图-v11"><a class="header-anchor" href="#UML类图-v11"></a>UML类图</h4>
<p><img src="https://i.loli.net/2021/06/09/gsVNX4bzRZtIG9q.png" alt="image-20210609201714109"></p>
<h4 id="Code-Demo-v11"><a class="header-anchor" href="#Code-Demo-v11"></a>Code Demo</h4>
<p>抽象主题角色</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">Subject</span> &#123;</span><br><span class="line">    <span class="comment">/** </span></span><br><span class="line"><span class="comment">     * 用来保存注册的观察者对象 </span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> List&lt;Observer&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;Observer&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="comment">/** </span></span><br><span class="line"><span class="comment">     * 注册观察者对象         </span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> observer    观察者对象 </span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">attach</span><span class="params">(Observer observer)</span> &#123;</span><br><span class="line">        list.add(observer);</span><br><span class="line">        System.out.println(<span class="string">&quot;Attached an observer&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/** </span></span><br><span class="line"><span class="comment">     * 删除观察者对象         </span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> observer    观察者对象 </span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">detach</span><span class="params">(Observer observer)</span> &#123;</span><br><span class="line">        list.remove(observer);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/** </span></span><br><span class="line"><span class="comment">     * 通知所有注册的观察者对象 </span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">nodifyObservers</span><span class="params">(String newState)</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> (Observer observer : list) &#123;</span><br><span class="line">            observer.update(newState);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>具体主题角色</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ConcreteSubject</span> <span class="keyword">extends</span> <span class="title class_">Subject</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String state;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getState</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> state;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">change</span><span class="params">(String newState)</span> &#123;</span><br><span class="line">        state = newState;</span><br><span class="line">        System.out.println(<span class="string">&quot;主题状态为：&quot;</span> + state);</span><br><span class="line">        <span class="comment">//状态发生改变，通知各个观察者</span></span><br><span class="line">        <span class="built_in">this</span>.nodifyObservers(state);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>抽象观察者</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Observer</span> &#123;</span><br><span class="line">    <span class="comment">/** </span></span><br><span class="line"><span class="comment">     * 更新接口          </span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> state    更新的状态</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">update</span><span class="params">(String state)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>具体观察者</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ConcreteObserver</span> <span class="keyword">implements</span> <span class="title class_">Observer</span> &#123;</span><br><span class="line">    <span class="comment">//观察者的状态</span></span><br><span class="line">    <span class="keyword">private</span> String observerState;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">update</span><span class="params">(String state)</span> &#123;</span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * 更新观察者的状态，使其与目标的状态保持一致         </span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        observerState = state;</span><br><span class="line">        System.out.println(<span class="string">&quot;状态为：&quot;</span> + observerState);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>client</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Client</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;        </span><br><span class="line">        <span class="comment">//创建主题对象        </span></span><br><span class="line">        <span class="type">ConcreteSubject</span> <span class="variable">subject</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ConcreteSubject</span>();        </span><br><span class="line">        <span class="comment">//创建观察者对象        </span></span><br><span class="line">        <span class="type">Observer</span> <span class="variable">observer</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ConcreteObserver</span>();        </span><br><span class="line">        <span class="comment">//将观察者对象登记到主题对象上        </span></span><br><span class="line">        subject.attach(observer);        </span><br><span class="line">        <span class="comment">//改变主题对象的状态        </span></span><br><span class="line">        subject.change(<span class="string">&quot;new state&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="适用场景-v10"><a class="header-anchor" href="#适用场景-v10"></a>适用场景</h4>
<ul>
<li>当一个对象状态的改变需要改变其他对象，或实际对象是事先未知的或动态变化的时，可使用观察者模式。</li>
<li>当应用中的一些对象必须观察其他对象时**，** 可使用该模式。 但仅能在有限时间内或特定情况下使用。</li>
</ul>
<h4 id="Ref-v11"><a class="header-anchor" href="#Ref-v11"></a>Ref</h4>
<ul>
<li><a target="_blank" rel="noopener" href="https://refactoringguru.cn/design-patterns/observer">观察者模式</a></li>
<li><a target="_blank" rel="noopener" href="https://www.cnblogs.com/java-my-life/archive/2012/05/16/2502279.html">Java设计与模式-观察者模式</a></li>
</ul>
<h3 id="状态模式"><a class="header-anchor" href="#状态模式"></a>状态模式</h3>
<h4 id="意图-v12"><a class="header-anchor" href="#意图-v12"></a>意图</h4>
<p>状态模式（<code>State Pattern</code>）让你能在一个对象内部状态改变时，改变其行为。</p>
<h4 id="解决方案-v12"><a class="header-anchor" href="#解决方案-v12"></a>解决方案</h4>
<ul>
<li>为对象的所有可能状态新建一个类， 然后将所有状态的对应行为抽取到这些类中</li>
<li>原始对象被称为上下文 （<code>context</code>）， 它并不会自行实现所有行为， 而是会保存一个指向表示当前状态的状态对象的引用， 且将所有与状态相关的工作委派给该对象</li>
</ul>
<h4 id="UML类图-v12"><a class="header-anchor" href="#UML类图-v12"></a>UML类图</h4>
<p><img src="https://i.loli.net/2021/06/10/PHqvo16adsj7uSK.png" alt="image-20210610225523664"></p>
<h4 id="Code-Demo-v12"><a class="header-anchor" href="#Code-Demo-v12"></a>Code Demo</h4>
<p>环境角色类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Context</span> &#123;    </span><br><span class="line">    <span class="comment">//持有一个State类型的对象实例    </span></span><br><span class="line">    <span class="keyword">private</span> State state;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setState</span><span class="params">(State state)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.state = state;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/** </span></span><br><span class="line"><span class="comment">     * 用户感兴趣的接口方法 </span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">request</span><span class="params">(String sampleParameter)</span> &#123;        </span><br><span class="line">        <span class="comment">//转调state来处理         </span></span><br><span class="line">        state.handle(sampleParameter);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>抽象状态类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">State</span> &#123;</span><br><span class="line">    <span class="comment">/** </span></span><br><span class="line"><span class="comment">     * 状态对应的处理 </span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">handle</span><span class="params">(String sampleParameter)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>具体状态类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ConcreteStateA</span> <span class="keyword">implements</span> <span class="title class_">State</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">handle</span><span class="params">(String sampleParameter)</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;ConcreteStateA handle ：&quot;</span> + sampleParameter);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ConcreteStateB</span> <span class="keyword">implements</span> <span class="title class_">State</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">handle</span><span class="params">(String sampleParameter)</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;ConcreteStateB handle ：&quot;</span> + sampleParameter);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Client</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Client</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;        </span><br><span class="line">        <span class="comment">//创建状态        </span></span><br><span class="line">        <span class="type">State</span> <span class="variable">state</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ConcreteStateB</span>();        </span><br><span class="line">        <span class="comment">//创建环境        </span></span><br><span class="line">        <span class="type">Context</span> <span class="variable">context</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Context</span>();        </span><br><span class="line">        <span class="comment">//将状态设置到环境中        </span></span><br><span class="line">        context.setState(state);        </span><br><span class="line">        <span class="comment">//请求        </span></span><br><span class="line">        context.request(<span class="string">&quot;test&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="适用场景-v11"><a class="header-anchor" href="#适用场景-v11"></a>适用场景</h4>
<ul>
<li>对象需要根据自身当前状态进行不同行为，同时状态的数量非常多且与状态相关的代码会频繁变更的话</li>
<li>类需要根据成员变量的当前值改变自身行为， 从而需要使用大量的条件语句时</li>
<li>当相似状态和基于条件的状态机转换中存在许多重复代码时</li>
</ul>
<h4 id="Ref-v12"><a class="header-anchor" href="#Ref-v12"></a>Ref</h4>
<ul>
<li><a target="_blank" rel="noopener" href="https://refactoringguru.cn/design-patterns/state">状态模式</a></li>
<li><a target="_blank" rel="noopener" href="https://www.cnblogs.com/java-my-life/archive/2012/06/08/2538146.html">Java设计与模式-状态模式</a></li>
</ul>
<h3 id="策略模式"><a class="header-anchor" href="#策略模式"></a>策略模式</h3>
<h4 id="意图-v13"><a class="header-anchor" href="#意图-v13"></a>意图</h4>
<p>策略模式（<code>Strategy Pattern</code>）：定义一系列算法，并将每个算法分别放入独立的类中，使算法对象能够相互替换</p>
<h4 id="解决方案-v13"><a class="header-anchor" href="#解决方案-v13"></a>解决方案</h4>
<ul>
<li>抽取不同方式完成特定任务的类，将其中的算法放到一个策略类中</li>
<li>包含上下文的原始类使用一个成员变量来保存所有策略的引用，并将具体工作委派给连接的策略对象</li>
<li>客户端将所需策略传递给上下文</li>
</ul>
<h4 id="UML类图-v13"><a class="header-anchor" href="#UML类图-v13"></a>UML类图</h4>
<p><img src="https://i.loli.net/2021/06/21/kB69zPKIUS4ELFl.png" alt="image-20210621214330052.png"></p>
<h4 id="Code-Demo-v13"><a class="header-anchor" href="#Code-Demo-v13"></a>Code Demo</h4>
<p>上下文</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Context</span> &#123;</span><br><span class="line">    <span class="comment">//持有一个具体策略的对象    </span></span><br><span class="line">    <span class="keyword">private</span> Strategy strategy;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/** </span></span><br><span class="line"><span class="comment">     * 构造函数，传入一个具体策略对象          </span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> strategy    具体策略对象 </span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Context</span><span class="params">(Strategy strategy)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.strategy = strategy;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/** </span></span><br><span class="line"><span class="comment">     * 策略方法 </span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">contextInterface</span><span class="params">()</span> &#123;</span><br><span class="line">        strategy.strategyInterface();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>抽象策略</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Strategy</span> &#123;</span><br><span class="line">    <span class="comment">/** </span></span><br><span class="line"><span class="comment">     * 策略方法 </span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">strategyInterface</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>具体策略</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ConcreteStrategyA</span> <span class="keyword">implements</span> <span class="title class_">Strategy</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">strategyInterface</span><span class="params">()</span> &#123;        </span><br><span class="line">        <span class="comment">//相关的业务    </span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ConcreteStrategyB</span> <span class="keyword">implements</span> <span class="title class_">Strategy</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">strategyInterface</span><span class="params">()</span> &#123;        </span><br><span class="line">        <span class="comment">//相关的业务</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="适用场景-v12"><a class="header-anchor" href="#适用场景-v12"></a>适用场景</h4>
<ul>
<li>使用对象中各种不同的算法变体，并希望能在运行时切换算法时， 可使用策略模式</li>
<li>如果算法在上下文的逻辑不是很重要，使用该模式可以将业务与算法分离</li>
</ul>
<h4 id="Ref-v13"><a class="header-anchor" href="#Ref-v13"></a>Ref</h4>
<ul>
<li><a target="_blank" rel="noopener" href="https://refactoringguru.cn/design-patterns/strategy">策略设计模式</a></li>
<li><a target="_blank" rel="noopener" href="https://www.cnblogs.com/java-my-life/archive/2012/05/10/2491891.html">Java设计与模式-策略模式</a></li>
</ul>
<h3 id="模板方法"><a class="header-anchor" href="#模板方法"></a>模板方法</h3>
<h4 id="意图-v14"><a class="header-anchor" href="#意图-v14"></a>意图</h4>
<p>模板方法模式（<code>Template Method Pattern</code>）：准备一个抽象类，将部分逻辑以具体方法以及具体构造函数的形式实现，然后声明一些抽象方法来迫使子类实现剩余的逻辑。不同的子类可以以不同的方式实现这些抽象方法，从而对剩余的逻辑有不同的实现。这就是模板方法模式的用意。</p>
<h4 id="解决方案-v14"><a class="header-anchor" href="#解决方案-v14"></a>解决方案</h4>
<ul>
<li>将算法分解为一系列步骤， 然后将这些步骤改写为方法，放在模板方法中依次调用</li>
<li>客户端需要自行提供子类并实现所有的抽象步骤</li>
</ul>
<h4 id="UML类图-v14"><a class="header-anchor" href="#UML类图-v14"></a>UML类图</h4>
<p><img src="https://i.loli.net/2021/06/22/LFv2Ax9gInVReUT.png" alt="image-20210622144914125"></p>
<h4 id="Code-Demo-v14"><a class="header-anchor" href="#Code-Demo-v14"></a>Code Demo</h4>
<p>抽象模板角色类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">AbstractTemplate</span> &#123;</span><br><span class="line">    <span class="comment">/** </span></span><br><span class="line"><span class="comment">     * 模板方法 </span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">templateMethod</span><span class="params">()</span> &#123;        </span><br><span class="line">        <span class="comment">//调用基本方法        </span></span><br><span class="line">        abstractMethod();</span><br><span class="line">        hookMethod();</span><br><span class="line">        concreteMethod();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/** </span></span><br><span class="line"><span class="comment">     * 基本方法的声明（由子类实现） </span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">abstractMethod</span><span class="params">()</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 基本方法(空方法)</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">hookMethod</span><span class="params">()</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 基本方法（已经实现） </span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">void</span> <span class="title function_">concreteMethod</span><span class="params">()</span> &#123;        </span><br><span class="line">        <span class="comment">//业务相关的代码    </span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>具体模板角色类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ConcreteTemplate</span> <span class="keyword">extends</span> <span class="title class_">AbstractTemplate</span> &#123;    </span><br><span class="line">    <span class="comment">//基本方法的实现        </span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">abstractMethod</span><span class="params">()</span> &#123;        </span><br><span class="line">        <span class="comment">//业务相关的代码       </span></span><br><span class="line">    &#125;  </span><br><span class="line">    </span><br><span class="line">    <span class="comment">//重写父类的方法</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">hookMethod</span><span class="params">()</span> &#123;        </span><br><span class="line">        <span class="comment">//业务相关的代码</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="适用场景-v13"><a class="header-anchor" href="#适用场景-v13"></a>适用场景</h4>
<ul>
<li>只希望扩展某个特定算法步骤，而不是整个算法或其结构</li>
<li>多个类的算法除一些细微不同之外几乎完全一样时</li>
</ul>
<h4 id="Ref-v14"><a class="header-anchor" href="#Ref-v14"></a>Ref</h4>
<ul>
<li><a target="_blank" rel="noopener" href="https://refactoringguru.cn/design-patterns/template-method">模板方法设计模式</a></li>
<li><a target="_blank" rel="noopener" href="https://www.cnblogs.com/java-my-life/archive/2012/05/14/2495235.html">Java设计与模式</a></li>
</ul>
<h3 id="访问者模式"><a class="header-anchor" href="#访问者模式"></a>访问者模式</h3>
<h4 id="意图-v15"><a class="header-anchor" href="#意图-v15"></a>意图</h4>
<p>访问者模式（<code>Visitor Pattern</code>）：将算法与其所作用的对象隔离开来</p>
<h4 id="解决方案-v15"><a class="header-anchor" href="#解决方案-v15"></a>解决方案</h4>
<ul>
<li>将行为放入一个名为访问者的独立类中， 而不是试图将其整合到已有类中</li>
<li>将需要执行操作的原始对象作为参数传递给访问者中的方法</li>
</ul>
<h4 id="UML类图-v15"><a class="header-anchor" href="#UML类图-v15"></a>UML类图</h4>
<p><img src="https://i.loli.net/2021/06/23/vFeChU39TQ6M2mx.png" alt="image-20210623150808652"></p>
<h4 id="Code-Demo-v15"><a class="header-anchor" href="#Code-Demo-v15"></a>Code Demo</h4>
<p><a target="_blank" rel="noopener" href="https://refactoringguru.cn/design-patterns/visitor/java/example">https://refactoringguru.cn/design-patterns/visitor/java/example</a></p>
<h4 id="适用场景-v14"><a class="header-anchor" href="#适用场景-v14"></a>适用场景</h4>
<ul>
<li>需要对一个复杂对象结构（例如对象树）中的所有元素执行某些操作</li>
</ul>
<h4 id="Ref-v15"><a class="header-anchor" href="#Ref-v15"></a>Ref</h4>
<ul>
<li><a target="_blank" rel="noopener" href="https://www.cnblogs.com/java-my-life/archive/2012/06/14/2545381.html">Java设计与模式-访问者模式</a></li>
<li><a target="_blank" rel="noopener" href="https://refactoringguru.cn/design-patterns/visitor">访问者模式</a></li>
</ul>

  </div>
</article>



        
          <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/archives/">Writing</a></li>
         
          <li><a href="/tags">tags</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/search/">Search</a></li>
        
      </ul>
    </div>

    <div id="toc-footer" style="display: none">
      <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">1.</span> <span class="toc-text">设计模式</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E5%9E%8B"><span class="toc-number">1.1.</span> <span class="toc-text">创建型</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B7%A5%E5%8E%82%E6%96%B9%E6%B3%95%E6%A8%A1%E5%BC%8F"><span class="toc-number">1.1.1.</span> <span class="toc-text">工厂方法模式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%84%8F%E5%9B%BE"><span class="toc-number">1.1.1.1.</span> <span class="toc-text">意图</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88"><span class="toc-number">1.1.1.2.</span> <span class="toc-text">解决方案</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#UML%E7%B1%BB%E5%9B%BE"><span class="toc-number">1.1.1.3.</span> <span class="toc-text">UML类图</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Code-Demo"><span class="toc-number">1.1.1.4.</span> <span class="toc-text">Code Demo</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Ref"><span class="toc-number">1.1.1.5.</span> <span class="toc-text">Ref</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%93%E6%9E%84%E5%9E%8B"><span class="toc-number">1.2.</span> <span class="toc-text">结构型</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%82%E9%85%8D%E5%99%A8%E6%A8%A1%E5%BC%8F"><span class="toc-number">1.2.1.</span> <span class="toc-text">适配器模式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%84%8F%E5%9B%BE-v2"><span class="toc-number">1.2.1.1.</span> <span class="toc-text">意图</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88-v2"><span class="toc-number">1.2.1.2.</span> <span class="toc-text">解决方案</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#UML%E7%B1%BB%E5%9B%BE-v2"><span class="toc-number">1.2.1.3.</span> <span class="toc-text">UML类图</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Code-Demo-v2"><span class="toc-number">1.2.1.4.</span> <span class="toc-text">Code Demo</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%82%E7%94%A8%E5%9C%BA%E6%99%AF"><span class="toc-number">1.2.1.5.</span> <span class="toc-text">适用场景</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Ref-v2"><span class="toc-number">1.2.1.6.</span> <span class="toc-text">Ref</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A1%A5%E6%8E%A5%E6%A8%A1%E5%BC%8F"><span class="toc-number">1.2.2.</span> <span class="toc-text">桥接模式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%84%8F%E5%9B%BE-v3"><span class="toc-number">1.2.2.1.</span> <span class="toc-text">意图</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88-v3"><span class="toc-number">1.2.2.2.</span> <span class="toc-text">解决方案</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#UML%E7%B1%BB%E5%9B%BE-v3"><span class="toc-number">1.2.2.3.</span> <span class="toc-text">UML类图</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Code-Demo-v3"><span class="toc-number">1.2.2.4.</span> <span class="toc-text">Code Demo</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%82%E7%94%A8%E5%9C%BA%E6%99%AF-v2"><span class="toc-number">1.2.2.5.</span> <span class="toc-text">适用场景</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Ref-v3"><span class="toc-number">1.2.2.6.</span> <span class="toc-text">Ref</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%84%E5%90%88%E6%A8%A1%E5%BC%8F"><span class="toc-number">1.2.3.</span> <span class="toc-text">组合模式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%84%8F%E5%9B%BE-v4"><span class="toc-number">1.2.3.1.</span> <span class="toc-text">意图</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88-v4"><span class="toc-number">1.2.3.2.</span> <span class="toc-text">解决方案</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#UML%E7%B1%BB%E5%9B%BE-v4"><span class="toc-number">1.2.3.3.</span> <span class="toc-text">UML类图</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Code-Demo-v4"><span class="toc-number">1.2.3.4.</span> <span class="toc-text">Code Demo</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%82%E7%94%A8%E5%9C%BA%E6%99%AF-v3"><span class="toc-number">1.2.3.5.</span> <span class="toc-text">适用场景</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Ref-v4"><span class="toc-number">1.2.3.6.</span> <span class="toc-text">Ref</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A3%85%E9%A5%B0%E5%99%A8%E6%A8%A1%E5%BC%8F"><span class="toc-number">1.2.4.</span> <span class="toc-text">装饰器模式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%84%8F%E5%9B%BE-v5"><span class="toc-number">1.2.4.1.</span> <span class="toc-text">意图</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88-v5"><span class="toc-number">1.2.4.2.</span> <span class="toc-text">解决方案</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#UML%E7%B1%BB%E5%9B%BE-v5"><span class="toc-number">1.2.4.3.</span> <span class="toc-text">UML类图</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Code-Demo-v5"><span class="toc-number">1.2.4.4.</span> <span class="toc-text">Code Demo</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%82%E7%94%A8%E5%9C%BA%E6%99%AF-v4"><span class="toc-number">1.2.4.5.</span> <span class="toc-text">适用场景</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Ref-v5"><span class="toc-number">1.2.4.6.</span> <span class="toc-text">Ref</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%AB%E5%85%83%E6%A8%A1%E5%BC%8F"><span class="toc-number">1.2.5.</span> <span class="toc-text">享元模式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%84%8F%E5%9B%BE-v6"><span class="toc-number">1.2.5.1.</span> <span class="toc-text">意图</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88-v6"><span class="toc-number">1.2.5.2.</span> <span class="toc-text">解决方案</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#UML%E7%B1%BB%E5%9B%BE-v6"><span class="toc-number">1.2.5.3.</span> <span class="toc-text">UML类图</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Code-Demo-v6"><span class="toc-number">1.2.5.4.</span> <span class="toc-text">Code Demo</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%82%E7%94%A8%E5%9C%BA%E6%99%AF-v5"><span class="toc-number">1.2.5.5.</span> <span class="toc-text">适用场景</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Ref-v6"><span class="toc-number">1.2.5.6.</span> <span class="toc-text">Ref</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%A1%8C%E4%B8%BA%E6%A8%A1%E5%BC%8F"><span class="toc-number">1.3.</span> <span class="toc-text">行为模式</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%91%BD%E4%BB%A4%E6%A8%A1%E5%BC%8F"><span class="toc-number">1.3.1.</span> <span class="toc-text">命令模式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%84%8F%E5%9B%BE-v7"><span class="toc-number">1.3.1.1.</span> <span class="toc-text">意图</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88-v7"><span class="toc-number">1.3.1.2.</span> <span class="toc-text">解决方案</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#UML%E7%B1%BB%E5%9B%BE-v7"><span class="toc-number">1.3.1.3.</span> <span class="toc-text">UML类图</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Code-Demo-v7"><span class="toc-number">1.3.1.4.</span> <span class="toc-text">Code Demo</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%82%E7%94%A8%E5%9C%BA%E6%99%AF-v6"><span class="toc-number">1.3.1.5.</span> <span class="toc-text">适用场景</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Ref-v7"><span class="toc-number">1.3.1.6.</span> <span class="toc-text">Ref</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B4%A3%E4%BB%BB%E9%93%BE%E6%A8%A1%E5%BC%8F"><span class="toc-number">1.3.2.</span> <span class="toc-text">责任链模式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%84%8F%E5%9B%BE-v8"><span class="toc-number">1.3.2.1.</span> <span class="toc-text">意图</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88-v8"><span class="toc-number">1.3.2.2.</span> <span class="toc-text">解决方案</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#UML%E7%B1%BB%E5%9B%BE-v8"><span class="toc-number">1.3.2.3.</span> <span class="toc-text">UML类图</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Code-Demo-v8"><span class="toc-number">1.3.2.4.</span> <span class="toc-text">Code Demo</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%82%E7%94%A8%E5%9C%BA%E6%99%AF-v7"><span class="toc-number">1.3.2.5.</span> <span class="toc-text">适用场景</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Ref-v8"><span class="toc-number">1.3.2.6.</span> <span class="toc-text">Ref</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%AD%E4%BB%8B%E6%A8%A1%E5%BC%8F"><span class="toc-number">1.3.3.</span> <span class="toc-text">中介模式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%84%8F%E5%9B%BE-v9"><span class="toc-number">1.3.3.1.</span> <span class="toc-text">意图</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88-v9"><span class="toc-number">1.3.3.2.</span> <span class="toc-text">解决方案</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#UML%E7%B1%BB%E5%9B%BE-v9"><span class="toc-number">1.3.3.3.</span> <span class="toc-text">UML类图</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Code-Demo-v9"><span class="toc-number">1.3.3.4.</span> <span class="toc-text">Code Demo</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%82%E7%94%A8%E5%9C%BA%E6%99%AF-v8"><span class="toc-number">1.3.3.5.</span> <span class="toc-text">适用场景</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Ref-v9"><span class="toc-number">1.3.3.6.</span> <span class="toc-text">Ref</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%87%E5%BF%98%E5%BD%95%E6%A8%A1%E5%BC%8F"><span class="toc-number">1.3.4.</span> <span class="toc-text">备忘录模式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%84%8F%E5%9B%BE-v10"><span class="toc-number">1.3.4.1.</span> <span class="toc-text">意图</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88-v10"><span class="toc-number">1.3.4.2.</span> <span class="toc-text">解决方案</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#UML%E7%B1%BB%E5%9B%BE-v10"><span class="toc-number">1.3.4.3.</span> <span class="toc-text">UML类图</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Code-Demo-v10"><span class="toc-number">1.3.4.4.</span> <span class="toc-text">Code Demo</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%82%E7%94%A8%E5%9C%BA%E6%99%AF-v9"><span class="toc-number">1.3.4.5.</span> <span class="toc-text">适用场景</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Ref-v10"><span class="toc-number">1.3.4.6.</span> <span class="toc-text">Ref</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F"><span class="toc-number">1.3.5.</span> <span class="toc-text">观察者模式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%84%8F%E5%9B%BE-v11"><span class="toc-number">1.3.5.1.</span> <span class="toc-text">意图</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88-v11"><span class="toc-number">1.3.5.2.</span> <span class="toc-text">解决方案</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#UML%E7%B1%BB%E5%9B%BE-v11"><span class="toc-number">1.3.5.3.</span> <span class="toc-text">UML类图</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Code-Demo-v11"><span class="toc-number">1.3.5.4.</span> <span class="toc-text">Code Demo</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%82%E7%94%A8%E5%9C%BA%E6%99%AF-v10"><span class="toc-number">1.3.5.5.</span> <span class="toc-text">适用场景</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Ref-v11"><span class="toc-number">1.3.5.6.</span> <span class="toc-text">Ref</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%8A%B6%E6%80%81%E6%A8%A1%E5%BC%8F"><span class="toc-number">1.3.6.</span> <span class="toc-text">状态模式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%84%8F%E5%9B%BE-v12"><span class="toc-number">1.3.6.1.</span> <span class="toc-text">意图</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88-v12"><span class="toc-number">1.3.6.2.</span> <span class="toc-text">解决方案</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#UML%E7%B1%BB%E5%9B%BE-v12"><span class="toc-number">1.3.6.3.</span> <span class="toc-text">UML类图</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Code-Demo-v12"><span class="toc-number">1.3.6.4.</span> <span class="toc-text">Code Demo</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%82%E7%94%A8%E5%9C%BA%E6%99%AF-v11"><span class="toc-number">1.3.6.5.</span> <span class="toc-text">适用场景</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Ref-v12"><span class="toc-number">1.3.6.6.</span> <span class="toc-text">Ref</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AD%96%E7%95%A5%E6%A8%A1%E5%BC%8F"><span class="toc-number">1.3.7.</span> <span class="toc-text">策略模式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%84%8F%E5%9B%BE-v13"><span class="toc-number">1.3.7.1.</span> <span class="toc-text">意图</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88-v13"><span class="toc-number">1.3.7.2.</span> <span class="toc-text">解决方案</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#UML%E7%B1%BB%E5%9B%BE-v13"><span class="toc-number">1.3.7.3.</span> <span class="toc-text">UML类图</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Code-Demo-v13"><span class="toc-number">1.3.7.4.</span> <span class="toc-text">Code Demo</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%82%E7%94%A8%E5%9C%BA%E6%99%AF-v12"><span class="toc-number">1.3.7.5.</span> <span class="toc-text">适用场景</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Ref-v13"><span class="toc-number">1.3.7.6.</span> <span class="toc-text">Ref</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A8%A1%E6%9D%BF%E6%96%B9%E6%B3%95"><span class="toc-number">1.3.8.</span> <span class="toc-text">模板方法</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%84%8F%E5%9B%BE-v14"><span class="toc-number">1.3.8.1.</span> <span class="toc-text">意图</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88-v14"><span class="toc-number">1.3.8.2.</span> <span class="toc-text">解决方案</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#UML%E7%B1%BB%E5%9B%BE-v14"><span class="toc-number">1.3.8.3.</span> <span class="toc-text">UML类图</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Code-Demo-v14"><span class="toc-number">1.3.8.4.</span> <span class="toc-text">Code Demo</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%82%E7%94%A8%E5%9C%BA%E6%99%AF-v13"><span class="toc-number">1.3.8.5.</span> <span class="toc-text">适用场景</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Ref-v14"><span class="toc-number">1.3.8.6.</span> <span class="toc-text">Ref</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%BF%E9%97%AE%E8%80%85%E6%A8%A1%E5%BC%8F"><span class="toc-number">1.3.9.</span> <span class="toc-text">访问者模式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%84%8F%E5%9B%BE-v15"><span class="toc-number">1.3.9.1.</span> <span class="toc-text">意图</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88-v15"><span class="toc-number">1.3.9.2.</span> <span class="toc-text">解决方案</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#UML%E7%B1%BB%E5%9B%BE-v15"><span class="toc-number">1.3.9.3.</span> <span class="toc-text">UML类图</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Code-Demo-v15"><span class="toc-number">1.3.9.4.</span> <span class="toc-text">Code Demo</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%82%E7%94%A8%E5%9C%BA%E6%99%AF-v14"><span class="toc-number">1.3.9.5.</span> <span class="toc-text">适用场景</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Ref-v15"><span class="toc-number">1.3.9.6.</span> <span class="toc-text">Ref</span></a></li></ol></li></ol></li></ol></li></ol>
    </div>

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=http://example.com/2021/10/41ba87453dc6.html"><i class="fab fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=http://example.com/2021/10/41ba87453dc6.html&text=设计模式"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=http://example.com/2021/10/41ba87453dc6.html&title=设计模式"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=http://example.com/2021/10/41ba87453dc6.html&is_video=false&description=设计模式"><i class="fab fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=设计模式&body=Check out this article: http://example.com/2021/10/41ba87453dc6.html"><i class="fas fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=http://example.com/2021/10/41ba87453dc6.html&title=设计模式"><i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=http://example.com/2021/10/41ba87453dc6.html&title=设计模式"><i class="fab fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=http://example.com/2021/10/41ba87453dc6.html&title=设计模式"><i class="fab fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=http://example.com/2021/10/41ba87453dc6.html&title=设计模式"><i class="fab fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=http://example.com/2021/10/41ba87453dc6.html&name=设计模式&description="><i class="fab fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=http://example.com/2021/10/41ba87453dc6.html&t=设计模式"><i class="fab fa-hacker-news fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
        <a id="menu" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fas fa-bars fa-lg" aria-hidden="true"></i> Menu</a>
        <a id="toc" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fas fa-list fa-lg" aria-hidden="true"></i> TOC</a>
        <a id="share" class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fas fa-share-alt fa-lg" aria-hidden="true"></i> Share</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a>
    </div>

  </div>
</div>

        
        <footer id="footer">
  <div class="footer-left">
    Copyright &copy;
    
    
    2021-2025
    Ak1raKay
  </div>
  <div class="footer-right">
    <nav>
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/archives/">Writing</a></li>
         
          <li><a href="/tags">tags</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/search/">Search</a></li>
        
      </ul>
    </nav>
  </div>
</footer>

    </div>
    <!-- styles -->



  <link rel="preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.2/css/all.min.css" crossorigin="anonymous" onload="this.onload=null;this.rel='stylesheet'"/>


    <!-- jquery -->
 
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" crossorigin="anonymous"></script> 




<!-- clipboard -->

  
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.7/clipboard.min.js" crossorigin="anonymous"></script> 
  
  <script type="text/javascript">
  $(function() {
    // copy-btn HTML
    var btn = "<span class=\"btn-copy tooltipped tooltipped-sw\" aria-label=\"Copy to clipboard!\">";
    btn += '<i class="far fa-clone"></i>';
    btn += '</span>'; 
    // mount it!
    $(".highlight table").before(btn);
    var clip = new ClipboardJS('.btn-copy', {
      text: function(trigger) {
        return Array.from(trigger.nextElementSibling.querySelectorAll('.code')).reduce((str,it)=>str+it.innerText+'\n','')
      }
    });
    clip.on('success', function(e) {
      e.trigger.setAttribute('aria-label', "Copied!");
      e.clearSelection();
    })
  })
  </script>


<script src="/js/main.js"></script>

<!-- search -->

<!-- Google Analytics -->

<!-- Baidu Analytics -->

<!-- Cloudflare Analytics -->

<!-- Umami Analytics -->

<!-- Disqus Comments -->


</body>
</html>
